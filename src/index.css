@import url('https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;600;700;800;900&family=Rajdhani:wght@300;400;500;600;700&family=Share+Tech+Mono&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* --- THE FINAL SHAPE // SURREAL PALETTE --- */

  /* PRISMATIC (The Blend) */
  --prismatic-1: #ff0080;
  /* Magenta */
  --prismatic-2: #7DF9FF;
  /* Arc */
  --prismatic-3: #ffd700;
  /* Gold */
  --prismatic-bg: linear-gradient(135deg, rgba(255, 0, 128, 0.2), rgba(125, 249, 255, 0.2), rgba(255, 215, 0, 0.1));

  /* PALE HEART (The Traveler's Interior) */
  --pale-pink: #fce7f3;
  --pale-gold: #fde047;
  --pale-void: #2e1065;

  /* ELEMENTAL RESONANCE (Retained but softened) */
  --arc-blue: #7DF9FF;
  --void-purple: #a855f7;
  --solar-orange: #fbbf24;
  --stasis-blue: #6366f1;
  --strand-green: #4ade80;

  /* UI SURREALISM */
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-border: rgba(255, 255, 255, 0.1);
  --panel-bg: rgba(20, 10, 30, 0.6);
  /* Deep void tint */

  /* ANIMATIONS */
  --float-duration: 8s;

  /* Backward Compat Mappings */
  --neon-cyan: var(--arc-blue);
  --neon-magenta: var(--void-purple);
  --neon-lime: var(--strand-green);
  --neon-orange: var(--solar-orange);
  --neon-purple: var(--stasis-blue);
  --neon-yellow: var(--pale-gold);

  --accent-base-rgb: 255, 0, 128;
  /* Default Prismatic Pink */

  /* Hyper Glass */
  --glass-opacity: 0.08;
  --glass-blur: 24px;
  --glass-border: var(--accent-base-rgb), 0.15;

  /* Spacing */
  --inner-padding: 1.25rem;
  --panel-radius: 1rem;

  /* Scanline density */
  --scanline-size: 3px;
}

@layer base {

  html,
  body {
    @apply h-screen w-screen overflow-hidden select-none;
    background: linear-gradient(180deg, #0a0a12 0%, #0f0f1a 50%, #0a0a12 100%);
    color: #e0e0ff;
    font-family: 'Rajdhani', system-ui, sans-serif;
    font-weight: 500;
    -webkit-font-smoothing: antialiased;
    letter-spacing: 0.02em;
  }

  /* Selection with neon */
  ::selection {
    background-color: rgba(0, 240, 255, 0.3);
    color: white;
    text-shadow: 0 0 10px var(--neon-cyan);
  }

  /* Reset interactive elements */
  input,
  textarea,
  button {
    @apply bg-transparent border-none outline-none text-inherit;
    font-family: inherit;
  }

  input:-webkit-autofill,
  input:-webkit-autofill:hover,
  input:-webkit-autofill:focus {
    -webkit-text-fill-color: var(--neon-cyan);
    -webkit-box-shadow: 0 0 0px 1000px transparent inset;
    transition: background-color 5000s ease-in-out 0s;
  }

  /* Placeholder styling */
  input::placeholder,
  textarea::placeholder {
    color: rgba(var(--accent-base-rgb), 0.2);
    font-style: italic;
  }
}

@layer utilities {
  .app-drag {
    -webkit-app-region: drag;
  }

  .app-no-drag {
    -webkit-app-region: no-drag;
  }

  /* === HYPER BACKGROUND SYSTEM === */
  .hyper-bg {
    position: fixed;
    inset: 0;
    overflow: hidden;
    z-index: -1;
    background:
      radial-gradient(ellipse 80% 50% at 50% -20%, rgba(var(--accent-base-rgb), 0.08) 0%, transparent 50%),
      radial-gradient(ellipse 60% 40% at 100% 100%, rgba(var(--accent-secondary-rgb), 0.05) 0%, transparent 50%),
      radial-gradient(ellipse 50% 30% at 0% 80%, rgba(191, 0, 255, 0.05) 0%, transparent 50%),
      linear-gradient(180deg, #080810 0%, #0c0c18 50%, #080810 100%);
  }

  /* Cyber Grid Overlay */
  .cyber-grid {
    position: absolute;
    inset: 0;
    background-image:
      linear-gradient(rgba(var(--accent-base-rgb), 0.02) 1px, transparent 1px),
      linear-gradient(90deg, rgba(var(--accent-base-rgb), 0.02) 1px, transparent 1px);
    background-size: 50px 50px;
    mask-image: radial-gradient(ellipse at center, black 30%, transparent 70%);
    animation: grid-scroll 60s linear infinite;
  }

  @keyframes grid-scroll {
    0% {
      transform: translateY(0);
    }

    100% {
      transform: translateY(50px);
    }
  }

  /* Scanline Effect */
  .scanlines {
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(0deg,
        transparent,
        transparent var(--scanline-size),
        rgba(0, 0, 0, 0.15) var(--scanline-size),
        rgba(0, 0, 0, 0.15) calc(var(--scanline-size) * 2));
    pointer-events: none;
    z-index: 1000;
    opacity: 0.4;
  }

  /* Scan beam effect */
  .scan-beam {
    position: absolute;
    inset: 0;
    background: linear-gradient(180deg,
        transparent 0%,
        rgba(var(--accent-base-rgb), 0.03) 50%,
        transparent 100%);
    height: 100px;
    animation: scan 8s linear infinite;
    pointer-events: none;
  }

  @keyframes scan {
    0% {
      transform: translateY(-100%);
    }

    100% {
      transform: translateY(100vh);
    }
  }

  /* === PRISMATIC ARTIFACT PANELS === */
  .hyper-panel {
    @apply relative overflow-hidden backdrop-blur-2xl transition-all duration-500;

    /* Deep Void Base */
    background: rgba(10, 10, 15, 0.85);
    border: 1px solid rgba(255, 255, 255, 0.08);

    /* Surreal Shadow */
    box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.5),
      0 0 0 1px rgba(255, 255, 255, 0.02) inset;
  }

  .hyper-panel:hover {
    border-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 15px 40px -5px rgba(0, 0, 0, 0.6),
      0 0 20px rgba(var(--prismatic-2), 0.1);
    /* Arc Glow */
  }

  .hyper-panel::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg,
        rgba(var(--accent-base-rgb), 0.03) 0%,
        transparent 50%,
        rgba(var(--accent-secondary-rgb), 0.02) 100%);
    pointer-events: none;
  }

  .hyper-panel::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    height: 1px;
    background: linear-gradient(90deg,
        transparent 0%,
        rgba(var(--accent-base-rgb), 0.4) 50%,
        transparent 100%);
    pointer-events: none;
  }

  .hyper-panel:hover {
    border-color: rgba(var(--accent-base-rgb), 0.25);
    box-shadow:
      0 0 30px rgba(var(--accent-base-rgb), 0.08),
      inset 0 0 30px rgba(var(--accent-base-rgb), 0.02);
  }

  /* Corner accents for panels */
  .corner-accents {
    position: relative;
  }

  .corner-accents::before,
  .corner-accents::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 20px;
    border: 2px solid var(--neon-cyan);
    pointer-events: none;
    opacity: 0.5;
  }

  .corner-accents::before {
    top: -1px;
    left: -1px;
    border-right: none;
    border-bottom: none;
  }

  .corner-accents::after {
    bottom: -1px;
    right: -1px;
    border-left: none;
    border-top: none;
  }

  /* === NEON TEXT EFFECTS === */
  .neon-text-cyan {
    color: var(--neon-cyan);
    text-shadow:
      0 0 5px var(--neon-cyan),
      0 0 10px var(--neon-cyan),
      0 0 20px var(--neon-cyan),
      0 0 40px var(--neon-cyan);
  }

  .neon-text-magenta {
    color: var(--neon-magenta);
    text-shadow:
      0 0 5px var(--neon-magenta),
      0 0 10px var(--neon-magenta),
      0 0 20px var(--neon-magenta),
      0 0 40px var(--neon-magenta);
  }

  .neon-text-lime {
    color: var(--neon-lime);
    text-shadow:
      0 0 5px var(--neon-lime),
      0 0 10px var(--neon-lime),
      0 0 20px var(--neon-lime);
  }

  .neon-text-subtle {
    color: var(--neon-cyan);
    text-shadow: 0 0 10px rgba(var(--accent-base-rgb), 0.5);
  }

  /* === HYPER BUTTONS === */
  .hyper-btn {
    background: linear-gradient(135deg, rgba(var(--accent-base-rgb), 0.1) 0%, rgba(var(--accent-base-rgb), 0.05) 100%);
    border: 1px solid rgba(var(--accent-base-rgb), 0.3);
    color: var(--neon-cyan);
    padding: 0.75rem 1.5rem;
    font-family: 'Orbitron', sans-serif;
    font-weight: 600;
    font-size: 0.7rem;
    letter-spacing: 0.15em;
    text-transform: uppercase;
    position: relative;
    overflow: hidden;
    transition: all 0.3s ease;
    clip-path: polygon(0 0,
        calc(100% - 8px) 0,
        100% 8px,
        100% 100%,
        8px 100%,
        0 calc(100% - 8px));
  }

  .hyper-btn::before {
    content: '';
    position: absolute;
    inset: 0;
    background: linear-gradient(135deg, var(--neon-cyan) 0%, var(--neon-magenta) 100%);
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .hyper-btn:hover {
    border-color: var(--neon-cyan);
    box-shadow:
      0 0 20px rgba(var(--accent-base-rgb), 0.4),
      inset 0 0 20px rgba(var(--accent-base-rgb), 0.1);
    transform: translateY(-2px);
  }

  .hyper-btn:hover::before {
    opacity: 0.15;
  }

  .hyper-btn:active {
    transform: translateY(0);
  }

  /* Secondary button variant */
  .hyper-btn-secondary {
    background: rgba(var(--accent-secondary-rgb), 0.08);
    border-color: rgba(var(--accent-secondary-rgb), 0.3);
    color: var(--neon-magenta);
  }

  .hyper-btn-secondary:hover {
    border-color: var(--neon-magenta);
    box-shadow:
      0 0 20px rgba(var(--accent-secondary-rgb), 0.4),
      inset 0 0 20px rgba(var(--accent-secondary-rgb), 0.1);
  }

  /* === HYPER INPUTS === */
  .hyper-input {
    background: rgba(0, 0, 0, 0.4);
    border: 1px solid rgba(var(--accent-base-rgb), 0.15);
    border-radius: 4px;
    padding: 0.75rem 1rem;
    color: #e0e0ff;
    font-family: 'Share Tech Mono', monospace;
    transition: all 0.3s ease;
  }

  .hyper-input:focus {
    border-color: var(--neon-cyan);
    box-shadow:
      0 0 15px rgba(var(--accent-base-rgb), 0.2),
      inset 0 0 15px rgba(var(--accent-base-rgb), 0.05);
    outline: none;
  }

  /* === GLITCH EFFECT === */
  .glitch {
    position: relative;
  }

  .glitch::before,
  .glitch::after {
    content: attr(data-text);
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
  }

  .glitch::before {
    left: 2px;
    text-shadow: -2px 0 var(--neon-magenta);
    clip: rect(24px, 550px, 90px, 0);
    animation: glitch-anim-1 2s infinite linear alternate-reverse;
  }

  .glitch::after {
    left: -2px;
    text-shadow: -2px 0 var(--neon-cyan);
    clip: rect(85px, 550px, 140px, 0);
    animation: glitch-anim-2 2s infinite linear alternate-reverse;
  }

  @keyframes glitch-anim-1 {
    0% {
      clip: rect(30px, 9999px, 10px, 0);
    }

    20% {
      clip: rect(60px, 9999px, 80px, 0);
    }

    40% {
      clip: rect(20px, 9999px, 50px, 0);
    }

    60% {
      clip: rect(70px, 9999px, 90px, 0);
    }

    80% {
      clip: rect(40px, 9999px, 60px, 0);
    }

    100% {
      clip: rect(10px, 9999px, 30px, 0);
    }
  }

  @keyframes glitch-anim-2 {
    0% {
      clip: rect(70px, 9999px, 90px, 0);
    }

    20% {
      clip: rect(10px, 9999px, 30px, 0);
    }

    40% {
      clip: rect(50px, 9999px, 70px, 0);
    }

    60% {
      clip: rect(30px, 9999px, 50px, 0);
    }

    80% {
      clip: rect(80px, 9999px, 100px, 0);
    }

    100% {
      clip: rect(20px, 9999px, 40px, 0);
    }
  }

  /* === ANIMATED BORDERS === */
  .border-glow {
    position: relative;
  }

  .border-glow::before {
    content: '';
    position: absolute;
    inset: -2px;
    background: linear-gradient(45deg,
        var(--neon-cyan),
        var(--neon-magenta),
        var(--neon-purple),
        var(--neon-cyan));
    background-size: 400% 400%;
    border-radius: inherit;
    z-index: -1;
    animation: border-flow 4s ease infinite;
    opacity: 0;
    transition: opacity 0.3s ease;
  }

  .border-glow:hover::before {
    opacity: 1;
  }

  .border-glow::after {
    content: '';
    position: absolute;
    inset: 0;
    background: inherit;
    border-radius: inherit;
    z-index: -1;
  }

  @keyframes border-flow {
    0% {
      background-position: 0% 50%;
    }

    50% {
      background-position: 100% 50%;
    }

    100% {
      background-position: 0% 50%;
    }
  }

  /* === DATA STREAM EFFECT === */
  .data-stream-bg {
    background-image:
      repeating-linear-gradient(0deg,
        transparent,
        transparent 2px,
        rgba(var(--accent-base-rgb), 0.03) 2px,
        rgba(var(--accent-base-rgb), 0.03) 4px);
    background-size: 100% 8px;
    animation: data-stream 1s linear infinite;
  }

  @keyframes data-stream {
    0% {
      background-position: 0 0;
    }

    100% {
      background-position: 0 8px;
    }
  }

  /* === HUD ELEMENTS === */
  .hud-bracket {
    position: relative;
    padding: 0.5rem 1rem;
  }

  .hud-bracket::before,
  .hud-bracket::after {
    content: '';
    position: absolute;
    width: 10px;
    height: 100%;
    border: 1px solid rgba(var(--accent-base-rgb), 0.3);
  }

  .hud-bracket::before {
    left: 0;
    border-right: none;
  }

  .hud-bracket::after {
    right: 0;
    border-left: none;
  }

  /* === PROGRESS INDICATORS === */
  .hyper-progress {
    height: 4px;
    background: rgba(0, 0, 0, 0.5);
    border-radius: 2px;
    overflow: hidden;
    position: relative;
  }

  .hyper-progress-bar {
    height: 100%;
    background: linear-gradient(90deg, var(--neon-cyan), var(--neon-magenta));
    border-radius: 2px;
    box-shadow: 0 0 10px var(--neon-cyan);
    transition: width 0.5s ease;
  }

  /* === CUSTOM SCROLLBAR === */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: rgba(0, 0, 0, 0.3);
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, var(--neon-cyan), var(--neon-magenta));
    border-radius: 3px;
    box-shadow: 0 0 10px rgba(var(--accent-base-rgb), 0.3);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, var(--neon-cyan), var(--neon-purple));
  }

  /* === TYPOGRAPHY === */
  .font-display {
    font-family: 'Orbitron', sans-serif;
  }

  .font-mono-tech {
    font-family: 'Share Tech Mono', monospace;
    letter-spacing: 0.1em;
  }

  .text-glow-cyan {
    text-shadow: 0 0 10px rgba(var(--accent-base-rgb), 0.5), 0 0 20px rgba(var(--accent-base-rgb), 0.3);
  }

  .text-glow-magenta {
    text-shadow: 0 0 10px rgba(var(--accent-secondary-rgb), 0.5), 0 0 20px rgba(var(--accent-secondary-rgb), 0.3);
  }

  /* Legacy glass-pane support */
  .glass-pane {
    @apply hyper-panel;
  }

  /* === PULSE INDICATORS === */
  .pulse-dot {
    width: 8px;
    height: 8px;
    border-radius: 50%;
    background: var(--neon-cyan);
    box-shadow: 0 0 10px var(--neon-cyan), 0 0 20px var(--neon-cyan);
    animation: pulse-glow 2s ease-in-out infinite;
  }

  @keyframes pulse-glow {

    0%,
    100% {
      opacity: 1;
      box-shadow: 0 0 10px var(--neon-cyan), 0 0 20px var(--neon-cyan);
    }

    50% {
      opacity: 0.6;
      box-shadow: 0 0 20px var(--neon-cyan), 0 0 40px var(--neon-cyan);
    }
  }

  /* === FLOATING ANIMATION === */
  .float {
    animation: float 6s ease-in-out infinite;
  }

  @keyframes float {

    0%,
    100% {
      transform: translateY(0);
    }

    50% {
      transform: translateY(-10px);
    }
  }

  /* === CYBER RING === */
  .cyber-ring {
    position: relative;
  }

  .cyber-ring::before {
    content: '';
    position: absolute;
    inset: -4px;
    border: 2px solid transparent;
    border-radius: 50%;
    background: linear-gradient(45deg, var(--neon-cyan), transparent, var(--neon-magenta)) border-box;
    -webkit-mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    mask: linear-gradient(#fff 0 0) padding-box, linear-gradient(#fff 0 0);
    -webkit-mask-composite: xor;
    mask-composite: exclude;
    animation: cyber-spin 10s linear infinite;
  }

  @keyframes cyber-spin {
    from {
      transform: rotate(0deg);
    }

    to {
      transform: rotate(360deg);
    }
  }
}

/* Global scrollbar hide */
::-webkit-scrollbar {
  display: none;
}

* {
  scrollbar-width: none;
  -ms-overflow-style: none;
}

/* Focus Shield Protocols */
body.focus-shield-active header,
body.focus-shield-active .QuestLog,
body.focus-shield-active .BrainDump,
body.focus-shield-active .MediaDeck,
body.focus-shield-active .FocusCard,
body.focus-shield-active .Sidebar {
  opacity: 0;
  filter: blur(20px);
  pointer-events: none;
  transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
}

/* ART MODE: The Timer becomes the art piece */
body.focus-shield-active .Timer {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%) scale(1.5);
  width: auto;
  height: auto;
  z-index: 1000;
  pointer-events: auto;
  filter: drop-shadow(0 0 50px rgba(var(--prismatic-2-rgb), 0.2));
  /* Remove borders/bg for pure art feel */
  background: transparent !important;
  border: none !important;
  box-shadow: none !important;
}

/* Hide Timer header */
body.focus-shield-active .Timer .font-display {
  opacity: 0.5;
}

/* Range input styling */
input[type="range"] {
  -webkit-appearance: none;
  appearance: none;
  background: transparent;
  cursor: pointer;
}

input[type="range"]::-webkit-slider-track {
  height: 4px;
  background: rgba(0, 0, 0, 0.5);
  border-radius: 2px;
  border: 1px solid rgba(var(--accent-base-rgb), 0.1);
}

input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 14px;
  height: 14px;
  background: var(--neon-cyan);
  border-radius: 50%;
  margin-top: -5px;
  box-shadow: 0 0 10px var(--neon-cyan), 0 0 20px var(--neon-cyan);
  transition: all 0.2s ease;
}

input[type="range"]::-webkit-slider-thumb:hover {
  transform: scale(1.2);
  box-shadow: 0 0 15px var(--neon-cyan), 0 0 30px var(--neon-cyan);
}